
<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raiyan Hasan - Web Developer Portfolio </title>
    <meta name="description"
        content="Welcome to the enhanced portfolio of Raiyan Hasan (v3.2), an IT student at MIT Muzaffarpur. Features preloader, CV download, enhanced modals, accessibility improvements, and more.">
    <meta name="keywords"
        content="Raiyan Hasan, web developer, portfolio, MIT Muzaffarpur, Python, HTML, CSS, JavaScript, front-end developer, student developer, dark mode, accessible portfolio, focus trapping, preloader, resume download">
    <meta name="author" content="Raiyan Hasan">
    <link rel="canonical" href="https://hasanraiyan.github.io/Portfolio/">

    <meta property="og:title" content="Raiyan Hasan - Web Developer Portfolio v3.2">
    <meta property="og:description"
        content="Explore the enhanced web development portfolio of Raiyan Hasan (v3.2), student at MIT Muzaffarpur. Featuring preloader, CV download, project details via modals, and improved accessibility.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://hasanraiyan.github.io/Portfolio/">
    <meta property="og:image" content="https://hasanraiyan.github.io/Portfolio/images/user1.png">
    <meta property="og:image:alt" content="Raiyan Hasan Profile Picture">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Raiyan Hasan - Web Developer Portfolio v3.2">
    <meta name="twitter:description"
        content="Explore the enhanced web development portfolio of Raiyan Hasan (v3.2), student at MIT Muzaffarpur. Featuring preloader, CV download, project details via modals, and improved accessibility.">
    <meta name="twitter:image" content="https://hasanraiyan.github.io/Portfolio/images/user1.png">
    <meta name="twitter:image:alt" content="Raiyan Hasan Profile Picture">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <script src="https://kit.fontawesome.com/002a13abdf.js" crossorigin="anonymous"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        'poppins': ['Poppins', 'sans-serif']
                    },
                    colors: {
                        primary: '#0a66c2',
                        'primary-darker': '#004182',
                        secondary: '#28a745',
                        accent: '#ffc107',
                        'text-main': '#1f2937',
                        'text-light': '#4b5563',
                        'bg-light': '#f8fafc',
                        'bg-surface': '#ffffff',
                        'border-light': '#e5e7eb',
                        'glass-bg': 'rgba(255, 255, 255, 0.6)',
                        'glass-border': 'rgba(255, 255, 255, 0.3)',
                        // Added input background for dark mode consistency
                        'dark-bg-input': '#374151', // Example: gray-700
                        'dark-bg-surface-card': '#1f2937', // Example: gray-800 (match surface)
                        dark: {
                            primary: '#38bdf8',
                            'primary-darker': '#0ea5e9',
                            secondary: '#4ade80',
                            accent: '#facc15',
                            'text-main': '#e5e7eb',
                            'text-light': '#9ca3af',
                            'bg-dark': '#111827',
                            'bg-surface': '#1f2937',
                            'border-dark': '#374151',
                            'glass-bg': 'rgba(31, 41, 55, 0.65)',
                            'glass-border': 'rgba(55, 65, 81, 0.3)',
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.6s ease-out forwards',
                        'fade-in-up': 'fadeInUp 0.6s ease-out forwards',
                        'slide-in-left': 'slideInLeft 0.6s ease-out forwards',
                        'slide-in-right': 'slideInRight 0.6s ease-out forwards',
                        'pulse-glow': 'pulseGlow 2s infinite ease-in-out',
                        'spin': 'spin 1s linear infinite', // Added for preloader
                    },
                    keyframes: {
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' }, },
                        fadeInUp: { '0%': { opacity: '0', transform: 'translateY(20px)' }, '100%': { opacity: '1', transform: 'translateY(0)' }, },
                        slideInLeft: { '0%': { opacity: '0', transform: 'translateX(-30px)' }, '100%': { opacity: '1', transform: 'translateX(0)' }, },
                        slideInRight: { '0%': { opacity: '0', transform: 'translateX(30px)' }, '100%': { opacity: '1', transform: 'translateX(0)' }, },
                        pulseGlow: {
                            '0%, 100%': { boxShadow: '0 0 5px rgba(10, 102, 194, 0.3)', },
                            '50%': { boxShadow: '0 0 20px rgba(10, 102, 194, 0.7)', },
                        },
                        spin: { // Added for preloader
                            'from': { transform: 'rotate(0deg)' },
                            'to': { transform: 'rotate(360deg)' },
                        },
                    },
                    backdropBlur: { xs: '2px', sm: '4px', md: '8px', lg: '12px', xl: '16px', },
                    boxShadow: {
                        'glass-dark': 'inset 0 1px 1px rgba(255, 255, 255, 0.05), 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)',
                    }
                },
            },
            plugins: [],
        }
    </script>
    <style type="text/tailwindcss">
        @layer base {
            html {
                @apply font-poppins antialiased bg-bg-light text-text-main dark:bg-dark-bg-dark dark:text-dark-text-main transition-colors duration-300 ease-in-out;
            }
            body {
                 @apply transition-colors duration-300 ease-in-out;
            }

            /* Reduced Motion Preferences */
            @media (prefers-reduced-motion: reduce) {
                html { scroll-behavior: auto; }
                *, *::before, *::after {
                    animation-duration: 1ms !important;
                    animation-iteration-count: 1 !important;
                    transition-duration: 1ms !important;
                    transition-delay: 0ms !important;
                    scroll-behavior: auto !important;
                }
                .animate-bounce { animation: none; }
                .animate-pulse-glow { animation: none; }
                .animate-spin { animation: none; } /* Also disable custom spin */
            }

            /* Scroll Animations */
            .animate-on-scroll { @apply opacity-0; }
            .animate-on-scroll { @apply transition-all duration-700 ease-out; }
            .animate-on-scroll.is-visible { @apply opacity-100; }
            .animate-fade-up.is-visible { @apply translate-y-0; }
            .animate-fade-up { @apply translate-y-5; }
            .animate-slide-left.is-visible { @apply translate-x-0; }
            .animate-slide-left { @apply translate-x-[-30px]; }
            .animate-slide-right.is-visible { @apply translate-x-0; }
            .animate-slide-right { @apply translate-x-[30px]; }

            /* Nav Link Underline */
            #main-nav ul:not(#sidemenu) li a::after {
                 content: '';
                 @apply absolute bottom-[-5px] left-0 h-[3px] w-0 bg-gradient-to-r from-primary to-accent dark:from-dark-primary dark:to-dark-accent rounded-full transition-all duration-300;
             }
             #main-nav ul:not(#sidemenu) li a:hover::after,
             #main-nav ul:not(#sidemenu) li a.active-nav::after {
                 @apply w-full;
             }

             /* Focus Styles */
             *:focus-visible {
                @apply outline-none ring-2 ring-offset-2 ring-primary dark:ring-dark-primary ring-offset-bg-surface dark:ring-offset-dark-bg-surface rounded-sm transition duration-150;
             }
             *:focus:not(:focus-visible) { outline: none; }

             /* Skip Link */
             .skip-link {
                 @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[100] focus:bg-primary focus:text-white focus:px-4 focus:py-2 focus:rounded-md focus:font-semibold focus:shadow-lg;
             }

            /* Custom Form Invalid Styles (Overrides default red shadow) */
             input:invalid:not(:placeholder-shown),
             textarea:invalid:not(:placeholder-shown) {
                /* Apply pink border only when invalid AND interacted with (not just empty initial) */
                /* Or simply use the :invalid styles if you want it pink as soon as required is empty */
                 /* @apply border-pink-500 dark:border-pink-600 ring-1 ring-pink-500/50 dark:ring-pink-600/50; */
             }
             input:required, textarea:required {
                /* Using the class-based pink border from previous examples - applied directly in HTML */
             }
             input:focus:invalid, textarea:focus:invalid {
                /* Focus ring color change is handled by classes in HTML (invalid:focus:ring-...) */
             }
        }
        @layer components {
            .glass-effect {
                @apply bg-glass-bg dark:bg-dark-glass-bg backdrop-blur-md border border-glass-border dark:border-dark-border-dark shadow-lg dark:shadow-glass-dark;
            }
            .btn {
                @apply inline-block px-6 py-2.5 rounded-full font-medium text-center transition-all duration-300 ease-in-out shadow-md hover:shadow-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-60 disabled:pointer-events-none;
            }
            .btn-primary {
                @apply bg-gradient-to-r from-primary to-blue-500 text-white border border-transparent hover:from-primary-darker hover:to-primary focus-visible:ring-primary dark:from-dark-primary dark:to-blue-600 dark:hover:from-dark-primary-darker dark:hover:to-dark-primary dark:focus-visible:ring-dark-primary;
            }
            .btn-secondary {
                 @apply bg-transparent text-primary border border-primary hover:bg-primary/10 focus-visible:ring-primary dark:text-dark-primary dark:border-dark-primary dark:hover:bg-dark-primary/10 dark:focus-visible:ring-dark-primary;
            }
            .content-card {
                @apply bg-bg-surface dark:bg-dark-bg-surface rounded-xl shadow-lg dark:shadow-dark-bg-dark/30 overflow-hidden transition-all duration-300 hover:shadow-2xl dark:hover:shadow-dark-bg-dark/50 hover:-translate-y-1.5 p-6 md:p-8;
            }
            .tab-links.active-link {
                @apply text-primary dark:text-dark-primary border-primary dark:border-dark-primary font-semibold;
            }
            .tab-links {
                @apply border-b-2 pb-1 border-transparent dark:border-transparent text-text-light dark:text-dark-text-light hover:text-primary dark:hover:text-dark-primary transition-colors duration-200;
            }
             .subtitle-underline::after {
                 content: '';
                 @apply absolute bottom-0 left-1/2 -translate-x-1/2 w-16 h-1 bg-gradient-to-r from-primary to-accent dark:from-dark-primary dark:to-dark-accent rounded-full;
             }
             .subtitle-underline-left::after {
                 content: '';
                 @apply absolute bottom-0 left-0 w-16 h-1 bg-gradient-to-r from-primary to-accent dark:from-dark-primary dark:to-dark-accent rounded-full;
             }
            .modal-overlay {
                @apply fixed inset-0 bg-black/60 dark:bg-black/80 flex items-center justify-center p-4 z-[60] transition-opacity duration-300 opacity-0 pointer-events-none;
            }
            .modal-overlay.active {
                @apply opacity-100 pointer-events-auto;
            }
            .modal-content {
                @apply bg-bg-surface dark:bg-dark-bg-surface rounded-lg shadow-xl p-6 md:p-8 max-w-xl w-full max-h-[80vh] overflow-y-auto relative transform scale-95 transition-transform duration-300;
            }
             .modal-overlay.active .modal-content {
                 @apply scale-100;
             }

             /* Preloader Styles */
            #preloader {
                 @apply fixed inset-0 z-[9999] flex items-center justify-center bg-bg-light dark:bg-dark-bg-dark transition-opacity duration-500 ease-out;
            }
            #preloader.loaded {
                @apply opacity-0 pointer-events-none;
            }
            .spinner {
                @apply w-12 h-12 border-4 border-primary dark:border-dark-primary border-t-transparent rounded-full animate-spin;
            }
        }
        @layer utilities {
            .btn-toggle.hidden, .btn.hidden { display: none !important; }
            .work-item .layer a:hover i, .work-item .layer button:hover i { @apply rotate-[360deg] transition-transform duration-500; }
            /* Helper for visually hidden but screen-reader accessible */
            .sr-only {
                position: absolute;
                width: 1px;
                height: 1px;
                padding: 0;
                margin: -1px;
                overflow: hidden;
                clip: rect(0, 0, 0, 0);
                white-space: nowrap;
                border-width: 0;
            }
            .focus\:not-sr-only:focus {
                position: static;
                width: auto;
                height: auto;
                padding: 0;
                margin: 0;
                overflow: visible;
                clip: auto;
                white-space: normal;
            }
        }

        /* Fallback for browsers not supporting backdrop-filter */
        @supports not ((-webkit-backdrop-filter: none) or (backdrop-filter: none)) {
            .glass-effect { @apply bg-white/90 dark:bg-dark-bg-surface/90; }
        }
    </style>

    <script>
        // Theme initialization (runs before DOMContentLoaded to prevent FOUC)
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark')
        } else {
            document.documentElement.classList.remove('dark')
        }
    </script>
</head>

<body class="bg-bg-light text-text-main dark:bg-dark-bg-dark dark:text-dark-text-main">

    <!-- Preloader -->
    <div id="preloader">
        <div class="spinner"></div>
    </div>

    <!-- Skip Link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <header id="site-header" class="sticky top-0 z-50 transition-all duration-300">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <nav id="main-nav" class="flex items-center justify-between h-16 md:h-20">
                <a href="#hero"
                    class="logo-link flex-shrink-0 transition-transform duration-300 hover:scale-105 animate-on-scroll animate-slide-left"
                    data-animate>
                    <img src="./images/logo.png" alt="Raiyan Hasan Logo" class="h-10 md:h-12">
                </a>
                <div class="hidden md:flex items-center space-x-6 lg:space-x-8 animate-on-scroll animate-fade-up"
                    data-animate>
                    <ul class="flex items-center space-x-6 lg:space-x-8">
                        <li><a href="#hero"
                                class="nav-link text-text-main dark:text-dark-text-light hover:text-primary dark:hover:text-dark-primary font-medium relative py-2 transition-colors duration-300">Home</a>
                        </li>
                        <li><a href="#about"
                                class="nav-link text-text-main dark:text-dark-text-light hover:text-primary dark:hover:text-dark-primary font-medium relative py-2 transition-colors duration-300">About</a>
                        </li>
                        <li><a href="#portfolio"
                                class="nav-link text-text-main dark:text-dark-text-light hover:text-primary dark:hover:text-dark-primary font-medium relative py-2 transition-colors duration-300">Portfolio</a>
                        </li>
                        <li><a href="#contact"
                                class="nav-link text-text-main dark:text-dark-text-light hover:text-primary dark:hover:text-dark-primary font-medium relative py-2 transition-colors duration-300">Contact</a>
                        </li>
                    </ul>
                    <button id="theme-toggle" type="button"
                        class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus-visible:ring-2 focus-visible:ring-gray-400 dark:focus-visible:ring-gray-500 rounded-lg text-sm p-2.5 transition-colors duration-200"
                        aria-label="Toggle dark mode" aria-pressed="false">
                        <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                        </svg>
                        <svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                                fill-rule="evenodd" clip-rule="evenodd"></path>
                        </svg>
                    </button>
                </div>
                <div class="md:hidden flex items-center space-x-4">
                    <button id="theme-toggle-mobile" type="button"
                        class="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus-visible:ring-2 focus-visible:ring-gray-400 dark:focus-visible:ring-gray-500 rounded-lg text-sm p-2.5 transition-colors duration-200"
                        aria-label="Toggle dark mode" aria-pressed="false">
                        <svg id="theme-toggle-dark-icon-mobile" class="hidden w-5 h-5" fill="currentColor"
                            viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
                        </svg>
                        <svg id="theme-toggle-light-icon-mobile" class="hidden w-5 h-5" fill="currentColor"
                            viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                                fill-rule="evenodd" clip-rule="evenodd"></path>
                        </svg>
                    </button>
                    <button
                        class="icon-menu text-primary dark:text-dark-primary text-3xl hover:text-primary-darker dark:hover:text-dark-primary-darker transition-colors duration-300"
                        onclick="openmenu()" aria-label="Open menu" aria-expanded="false" aria-controls="sidemenu">
                        <i class="fas fa-bars" aria-hidden="true"></i>
                    </button>
                </div>
                <ul id="sidemenu"
                    class="md:hidden fixed top-0 right-0 h-screen w-64 sm:w-72 bg-gradient-to-b from-primary-darker to-primary dark:from-dark-primary-darker dark:to-dark-primary shadow-xl transform translate-x-full transition-transform duration-300 ease-in-out pt-24 px-6 space-y-5 z-40"
                    aria-hidden="true">
                    <li><a href="#hero"
                            class="block text-white hover:text-accent dark:hover:text-dark-accent text-xl font-medium py-2 transition-colors duration-300">Home</a>
                    </li>
                    <li><a href="#about"
                            class="block text-white hover:text-accent dark:hover:text-dark-accent text-xl font-medium py-2 transition-colors duration-300">About</a>
                    </li>
                    <li><a href="#portfolio"
                            class="block text-white hover:text-accent dark:hover:text-dark-accent text-xl font-medium py-2 transition-colors duration-300">Portfolio</a>
                    </li>
                    <li><a href="#contact"
                            class="block text-white hover:text-accent dark:hover:text-dark-accent text-xl font-medium py-2 transition-colors duration-300">Contact</a>
                    </li>
                    <li class="absolute top-6 right-6">
                        <button
                            class="icon-close text-white hover:text-gray-200 text-3xl transition-colors duration-300"
                            onclick="closemenu()" aria-label="Close menu">
                            <i class="fas fa-times" aria-hidden="true"></i>
                        </button>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content Wrapper (for skip link target) -->
    <main id="main-content">

        <!-- Hero Section -->
        <section id="hero"
            class="pt-28 md:pt-32 pb-20 md:pb-28 min-h-[calc(100vh-80px)] flex items-center bg-gradient-to-br from-blue-50 via-bg-light to-indigo-50 dark:from-gray-900 dark:via-dark-bg-dark dark:to-indigo-900/30 relative overflow-hidden">
            <div
                class="absolute top-1/4 left-10 w-32 h-32 bg-blue-200/30 dark:bg-blue-800/20 rounded-full filter blur-2xl opacity-50 dark:opacity-30 animate-pulse-glow">
            </div>
            <div
                class="absolute bottom-1/4 right-10 w-40 h-40 bg-indigo-200/30 dark:bg-indigo-800/20 rounded-full filter blur-2xl opacity-50 dark:opacity-30 animate-pulse-glow animation-delay-2000">
            </div>

            <div class="container mx-auto px-4 sm:px-6 lg:px-8 z-10">
                <div class="header-text text-center max-w-4xl mx-auto">
                    <p class="text-lg md:text-xl text-primary dark:text-dark-primary font-medium mb-3 animate-on-scroll animate-fade-up"
                        data-animate data-delay="100">Web Developer & IT Student</p>
                    <h1 class="text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-bold text-text-main dark:text-dark-text-main leading-tight mb-6 animate-on-scroll animate-fade-up"
                        data-animate data-delay="200">
                        Hi, I'm <span
                            class="text-transparent bg-clip-text bg-gradient-to-r from-primary to-blue-500 dark:from-dark-primary dark:to-blue-400">Raiyan
                            Hasan</span><br>from MIT Muzaffarpur
                    </h1>
                    <p class="text-base md:text-lg text-text-light dark:text-dark-text-light max-w-2xl mx-auto mb-8 animate-on-scroll animate-fade-up"
                        data-animate data-delay="300">
                        Passionate about crafting clean, efficient, and user-friendly web experiences. Exploring the
                        intersection of technology, creativity, and problem-solving. Always eager to learn and adapt.
                    </p>
                    <div class="animate-on-scroll animate-fade-up" data-animate data-delay="400">
                        <a href="#portfolio" class="btn btn-primary text-lg px-8 py-3 mr-3 mb-3 sm:mb-0">View My
                            Work</a>
                        <a href="#contact" class="btn btn-secondary text-lg px-8 py-3">Get In Touch</a>
                    </div>
                </div>
            </div>
            <a href="#about"
                class="absolute bottom-8 left-1/2 -translate-x-1/2 text-primary dark:text-dark-primary text-2xl animate-bounce hidden md:block"
                aria-label="Scroll down">
                <i class="fas fa-chevron-down"></i>
            </a>
        </section>

        <!-- About Section -->
        <section id="about" class="py-20 md:py-28 bg-bg-surface dark:bg-dark-bg-surface">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex flex-wrap lg:flex-nowrap justify-between gap-12 md:gap-16 items-start">
                    <div class="about-col-1 w-full lg:w-2/5 xl:w-1/3 flex-shrink-0 animate-on-scroll animate-slide-left"
                        data-animate>
                        <div class="relative group">
                            <div
                                class="absolute -inset-1 bg-gradient-to-r from-primary to-accent dark:from-dark-primary dark:to-dark-accent rounded-lg blur opacity-25 group-hover:opacity-50 transition duration-500">
                            </div>
                            <img src="./images/user1.png" alt="Raiyan Hasan profile picture"
                                class="relative rounded-xl shadow-xl w-full max-w-sm mx-auto lg:max-w-none transition-transform duration-300 group-hover:scale-[1.02]"
                                loading="lazy">
                        </div>
                    </div>
                    <div class="about-col-2 w-full lg:w-3/5 xl:w-2/3 animate-on-scroll animate-slide-right"
                        data-animate>
                        <h2
                            class="subtitle text-3xl md:text-4xl text-primary dark:text-dark-primary font-semibold mb-10 md:mb-12 text-left relative pb-4 subtitle-underline-left">
                            About Me
                        </h2>
                        <p
                            class="about-intro text-base md:text-lg text-text-light dark:text-dark-text-light mb-6 leading-relaxed">
                            Hello! I'm Raiyan Hasan, a dedicated B.Tech student in Information Technology at MIT
                            Muzaffarpur (Batch 2023-27). My fascination lies at the intersection of technology and
                            creativity, particularly in web development where I strive to build intuitive, efficient,
                            and accessible digital experiences.
                        </p>
                        <p
                            class="about-intro text-base md:text-lg text-text-light dark:text-dark-text-light mb-8 leading-relaxed">
                            I'm driven by a continuous learning mindset, constantly exploring new tools and techniques
                            to solve complex problems. Whether it's mastering Python for logic and scripting or diving
                            into the nuances of front-end development with modern CSS like Tailwind, I enjoy the
                            challenge of turning ideas into reality. My goal is to contribute meaningfully to impactful
                            web solutions.
                        </p>

                        <div class="tab-titles flex border-b border-border-light dark:border-dark-border-dark mb-6 space-x-4 sm:space-x-8 flex-wrap"
                            role="tablist" aria-label="About Me Sections">
                            <button
                                class="tab-links active-link py-2 px-1 sm:px-2 font-medium transition-all duration-300 whitespace-nowrap"
                                onclick="opentab(event, 'skills')" role="tab" aria-controls="skills-panel"
                                aria-selected="true" id="skills-tab">Skills</button>
                            <button
                                class="tab-links py-2 px-1 sm:px-2 font-medium transition-all duration-300 whitespace-nowrap"
                                onclick="opentab(event, 'education')" role="tab" aria-controls="education-panel"
                                aria-selected="false" id="education-tab">Education</button>
                        </div>

                        <!-- Skills Tab Panel -->
                        <div class="tab-contents active-tab animate-fade-in min-h-[250px]" id="skills-panel"
                            role="tabpanel" aria-labelledby="skills-tab">
                            <ul class="space-y-5">
                                <li>
                                    <div
                                        class="tab-item-content pl-5 border-l-4 border-primary dark:border-dark-primary py-2 group">
                                        <a href="https://www.hackerrank.com/certificates/bb25b2ccfbf1"
                                            title="Click to see certification" target="_blank" rel="noopener noreferrer"
                                            class="inline-block transition-colors duration-300 group-hover:text-primary-darker dark:group-hover:text-dark-primary-darker">
                                            <strong
                                                class="block text-lg font-semibold text-text-main dark:text-dark-text-main mb-1 flex items-center">
                                                Python <i
                                                    class="fas fa-link text-xs ml-2 opacity-0 group-hover:opacity-70 transition-opacity"
                                                    aria-hidden="true"></i>
                                            </strong>
                                        </a>
                                        <span class="block text-sm text-text-light dark:text-dark-text-light">Proficient
                                            in Python for problem-solving and scripting (HackerRank Certified).</span>
                                    </div>
                                </li>
                                <li>
                                    <div
                                        class="tab-item-content pl-5 border-l-4 border-primary dark:border-dark-primary py-2">
                                        <strong
                                            class="block text-lg font-semibold text-text-main dark:text-dark-text-main mb-1">Web
                                            Development</strong>
                                        <span class="block text-sm text-text-light dark:text-dark-text-light">Solid
                                            foundation in HTML, CSS (incl. Tailwind CSS), JavaScript for front-end
                                            development.</span>
                                    </div>
                                </li>
                                <div id="skills-list-hidden">
                                    <li class="hidden">
                                        <div
                                            class="tab-item-content pl-5 border-l-4 border-secondary dark:border-dark-secondary py-2">
                                            <strong
                                                class="block text-lg font-semibold text-text-main dark:text-dark-text-main mb-1">Canva</strong>
                                            <span
                                                class="block text-sm text-text-light dark:text-dark-text-light">Skilled
                                                in creating visual assets and graphics using Canva for web and
                                                presentations.</span>
                                        </div>
                                    </li>
                                    <li class="hidden">
                                        <div
                                            class="tab-item-content pl-5 border-l-4 border-accent dark:border-dark-accent py-2">
                                            <strong
                                                class="block text-lg font-semibold text-text-main dark:text-dark-text-main mb-1">Version
                                                Control</strong>
                                            <span class="block text-sm text-text-light dark:text-dark-text-light">Using
                                                Git and GitHub for code management and collaboration.</span>
                                        </div>
                                    </li>
                                </div>
                            </ul>
                            <div class="mt-8 pt-5 border-t border-border-light dark:border-dark-border-dark">
                                <strong
                                    class="block text-lg font-semibold text-text-main dark:text-dark-text-main mb-3">Currently
                                    Learning</strong>
                                <ul
                                    class="list-disc list-inside space-y-1 text-sm text-text-light dark:text-dark-text-light pl-1">
                                    <li>Exploring JavaScript Frameworks (React/Vue)</li>
                                    <li>Deeper dive into responsive design patterns</li>
                                    <li>Web Accessibility (WCAG) best practices</li>
                                </ul>
                            </div>

                            <div class="more-less-controls mt-8">
                                <button
                                    class="btn-toggle text-primary dark:text-dark-primary text-sm font-medium inline-flex items-center hover:underline"
                                    id="more-skills-btn" aria-expanded="false" aria-controls="skills-list-hidden">
                                    <i class="fas fa-chevron-down mr-1 text-xs"></i> Show More Skills
                                </button>
                                <button
                                    class="btn-toggle hidden text-primary dark:text-dark-primary text-sm font-medium inline-flex items-center hover:underline"
                                    id="less-skills-btn" aria-expanded="true" aria-controls="skills-list-hidden">
                                    <i class="fas fa-chevron-up mr-1 text-xs"></i> Show Less Skills
                                </button>
                            </div>
                        </div>

                        <!-- Education Tab Panel -->
                        <div class="tab-contents hidden animate-fade-in min-h-[250px]" id="education-panel"
                            role="tabpanel" aria-labelledby="education-tab" aria-hidden="true">
                            <ul class="space-y-5">
                                <li>
                                    <div
                                        class="tab-item-content pl-5 border-l-4 border-primary dark:border-dark-primary py-2 group">
                                        <a href="https://www.mitmuzaffarpur.org/mit-student/rayan-hasan/"
                                            target="_blank" rel="noopener noreferrer"
                                            class="inline-block transition-colors duration-300 group-hover:text-primary-darker dark:group-hover:text-dark-primary-darker">
                                            <strong
                                                class="block text-lg font-semibold text-text-main dark:text-dark-text-main mb-1 flex items-center">
                                                B.Tech - Information Technology <i
                                                    class="fas fa-link text-xs ml-2 opacity-0 group-hover:opacity-70 transition-opacity"
                                                    aria-hidden="true"></i>
                                            </strong>
                                        </a>
                                        <span class="block text-sm text-text-light dark:text-dark-text-light">MIT
                                            Muzaffarpur</span>
                                        <span
                                            class="block text-sm text-text-light dark:text-dark-text-light font-medium text-primary dark:text-dark-primary">(2023
                                            - 2027, Ongoing)</span>
                                    </div>
                                </li>
                                <li>
                                    <div
                                        class="tab-item-content pl-5 border-l-4 border-primary dark:border-dark-primary py-2">
                                        <strong
                                            class="block text-lg font-semibold text-text-main dark:text-dark-text-main mb-1">Intermediate
                                            (XII) - PCM</strong>
                                        <span class="block text-sm text-text-light dark:text-dark-text-light">St. Judes
                                            Vidyalaya, Barauni (CBSE)</span>
                                        <span class="block text-sm text-text-light dark:text-dark-text-light">Year: 2023
                                            | Percentage: 84.6%</span>
                                    </div>
                                </li>
                                <div id="education-list-hidden">
                                    <li class="hidden">
                                        <div
                                            class="tab-item-content pl-5 border-l-4 border-secondary dark:border-dark-secondary py-2 group">
                                            <a href="https://www.shivamconvent.com/images/result/10%20ST.JUDES%20BARAUNI-min.pdf"
                                                target="_blank" rel="noopener noreferrer"
                                                class="inline-block transition-colors duration-300 group-hover:text-primary-darker dark:group-hover:text-dark-primary-darker">
                                                <strong
                                                    class="block text-lg font-semibold text-text-main dark:text-dark-text-main mb-1 flex items-center">
                                                    Matriculation (X) <i
                                                        class="fas fa-link text-xs ml-2 opacity-0 group-hover:opacity-70 transition-opacity"
                                                        aria-hidden="true"></i>
                                                </strong>
                                            </a>
                                            <span class="block text-sm text-text-light dark:text-dark-text-light">St.
                                                Judes Vidyalaya, Barauni (CBSE)</span>
                                            <span class="block text-sm text-text-light dark:text-dark-text-light">Year:
                                                2021 | Percentage: 91.8%</span>
                                        </div>
                                    </li>
                                </div>
                            </ul>
                            <div class="more-less-controls mt-8">
                                <button
                                    class="btn-toggle text-primary dark:text-dark-primary text-sm font-medium inline-flex items-center hover:underline"
                                    id="more-Education-btn" aria-expanded="false" aria-controls="education-list-hidden">
                                    <i class="fas fa-chevron-down mr-1 text-xs"></i> Show More Education
                                </button>
                                <button
                                    class="btn-toggle hidden text-primary dark:text-dark-primary text-sm font-medium inline-flex items-center hover:underline"
                                    id="less-Education-btn" aria-expanded="true" aria-controls="education-list-hidden">
                                    <i class="fas fa-chevron-up mr-1 text-xs"></i> Show Less Education
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Portfolio Section -->
        <section id="portfolio"
            class="py-20 md:py-28 bg-gradient-to-b from-blue-50 via-bg-light to-bg-light dark:from-gray-900/50 dark:via-dark-bg-dark dark:to-dark-bg-dark">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="subtitle text-3xl md:text-4xl text-primary dark:text-dark-primary font-semibold mb-12 md:mb-16 text-center relative pb-4 subtitle-underline animate-on-scroll animate-fade-up"
                    data-animate>
                    My Work
                </h2>
                <div class="work-list grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-10">

                    <!-- Project 1: MIT Clone -->
                    <div class="work-item group relative rounded-xl overflow-hidden shadow-lg bg-bg-surface dark:bg-dark-bg-surface transform transition duration-300 hover:shadow-2xl dark:hover:shadow-dark-bg-dark/50 hover:-translate-y-2 animate-on-scroll animate-fade-up"
                        data-animate data-modal-title="MIT Muzaffarpur Clone"
                        data-modal-desc="A responsive clone of the official MIT Muzaffarpur website, built using HTML, CSS (Tailwind), and JavaScript. Focused on replicating the design, layout, and key interactive elements."
                        data-modal-tech="HTML, Tailwind CSS, JavaScript"
                        data-modal-learnings="Practiced complex layouts with Tailwind, implementing responsive navigation, and mimicking existing UI patterns accurately."
                        data-modal-live="https://hasanraiyan.github.io/MIT" data-modal-repo="">
                        <img src="./images/work-5.png" alt="MIT Muzaffarpur Clone"
                            class="w-full h-72 sm:h-80 md:h-96 object-cover object-top transition-transform duration-500 group-hover:scale-110"
                            loading="lazy">
                        <div
                            class="layer absolute inset-0 bg-gradient-to-t from-blue-800/80 via-blue-700/70 to-transparent dark:from-blue-900/80 dark:via-blue-800/70 opacity-0 group-hover:opacity-100 transition-all duration-500 flex flex-col items-center justify-end p-4 sm:p-6 text-center transform translate-y-4 group-hover:translate-y-0">
                            <div
                                class="glass-effect rounded-lg p-4 w-full transform transition-transform duration-500 delay-100 group-hover:scale-100 scale-95">
                                <h3 class="text-lg sm:text-xl font-semibold text-white mb-1 sm:mb-2">MIT Muzaffarpur
                                    Clone</h3>
                                <p class="text-xs sm:text-sm text-gray-100 mb-3">Responsive university website clone.
                                </p>
                                <div class="flex justify-center space-x-3">
                                    <button onclick="openProjectModal(this.closest('.work-item'))"
                                        aria-label="View details for MIT Clone project"
                                        class="bg-white text-primary dark:text-dark-primary rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center text-lg sm:text-xl hover:bg-accent hover:text-white dark:hover:bg-dark-accent transition-all duration-300 transform hover:scale-110 shadow-md">
                                        <i class="fas fa-info"></i>
                                    </button>
                                    <a href="https://hasanraiyan.github.io/MIT" target="_blank"
                                        rel="noopener noreferrer" aria-label="View live MIT Clone project"
                                        class="bg-white text-primary dark:text-dark-primary rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center text-lg sm:text-xl hover:bg-accent hover:text-white dark:hover:bg-dark-accent transition-all duration-300 transform hover:scale-110 shadow-md">
                                        <i class="fas fa-external-link-alt"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Project 2: Tic Tac Toe vs AI -->
                    <div class="work-item group relative rounded-xl overflow-hidden shadow-lg bg-bg-surface dark:bg-dark-bg-surface transform transition duration-300 hover:shadow-2xl dark:hover:shadow-dark-bg-dark/50 hover:-translate-y-2 animate-on-scroll animate-fade-up"
                        data-animate data-delay="100" data-modal-title="Tic Tac Toe (vs AI)"
                        data-modal-desc="Classic Tic Tac Toe game where you can play against a simple computer opponent implemented with JavaScript logic. Includes win detection and game reset functionality."
                        data-modal-tech="HTML, CSS, JavaScript"
                        data-modal-learnings="Implemented game logic, including win condition checks and a basic AI opponent strategy using vanilla JavaScript."
                        data-modal-live="https://hasanraiyan.github.io/projects/tik%20tak%20toe/index.html"
                        data-modal-repo="">
                        <img src="./images/work-1.png" alt="Tic Tac Toe vs AI"
                            class="w-full h-72 sm:h-80 md:h-96 object-cover object-top transition-transform duration-500 group-hover:scale-110"
                            loading="lazy">
                        <div
                            class="layer absolute inset-0 bg-gradient-to-t from-blue-800/80 via-blue-700/70 to-transparent dark:from-blue-900/80 dark:via-blue-800/70 opacity-0 group-hover:opacity-100 transition-all duration-500 flex flex-col items-center justify-end p-4 sm:p-6 text-center transform translate-y-4 group-hover:translate-y-0">
                            <div
                                class="glass-effect rounded-lg p-4 w-full transform transition-transform duration-500 delay-100 group-hover:scale-100 scale-95">
                                <h3 class="text-lg sm:text-xl font-semibold text-white mb-1 sm:mb-2">Tic Tac Toe (vs AI)
                                </h3>
                                <p class="text-xs sm:text-sm text-gray-100 mb-3">Play against the computer.</p>
                                <div class="flex justify-center space-x-3">
                                    <button onclick="openProjectModal(this.closest('.work-item'))"
                                        aria-label="View details for Tic Tac Toe vs AI project"
                                        class="bg-white text-primary dark:text-dark-primary rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center text-lg sm:text-xl hover:bg-accent hover:text-white dark:hover:bg-dark-accent transition-all duration-300 transform hover:scale-110 shadow-md">
                                        <i class="fas fa-info"></i>
                                    </button>
                                    <a href="https://hasanraiyan.github.io/projects/tik%20tak%20toe/index.html"
                                        target="_blank" rel="noopener noreferrer"
                                        aria-label="View live Tic Tac Toe vs AI project"
                                        class="bg-white text-primary dark:text-dark-primary rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center text-lg sm:text-xl hover:bg-accent hover:text-white dark:hover:bg-dark-accent transition-all duration-300 transform hover:scale-110 shadow-md">
                                        <i class="fas fa-external-link-alt"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                     <!-- Project 3: Calculator -->
                    <div class="work-item group relative rounded-xl overflow-hidden shadow-lg bg-bg-surface dark:bg-dark-bg-surface transform transition duration-300 hover:shadow-2xl dark:hover:shadow-dark-bg-dark/50 hover:-translate-y-2 animate-on-scroll animate-fade-up"
                        data-animate data-delay="200" data-modal-title="Web Calculator"
                        data-modal-desc="A functional web-based calculator built with HTML, CSS, and JavaScript. It handles basic arithmetic operations (+, -, *, /) and includes display updates and clear functionality."
                        data-modal-tech="HTML, CSS, JavaScript"
                        data-modal-learnings="Focused on DOM manipulation with JavaScript to handle user input, update the display, and perform calculations."
                        data-modal-live="https://hasanraiyan.github.io/projects/calculator/index.html"
                        data-modal-repo="">
                        <img src="./images/work-2.png" alt="Web Calculator"
                            class="w-full h-72 sm:h-80 md:h-96 object-cover object-top transition-transform duration-500 group-hover:scale-110"
                            loading="lazy">
                        <div
                            class="layer absolute inset-0 bg-gradient-to-t from-blue-800/80 via-blue-700/70 to-transparent dark:from-blue-900/80 dark:via-blue-800/70 opacity-0 group-hover:opacity-100 transition-all duration-500 flex flex-col items-center justify-end p-4 sm:p-6 text-center transform translate-y-4 group-hover:translate-y-0">
                            <div
                                class="glass-effect rounded-lg p-4 w-full transform transition-transform duration-500 delay-100 group-hover:scale-100 scale-95">
                                <h3 class="text-lg sm:text-xl font-semibold text-white mb-1 sm:mb-2">Web Calculator</h3>
                                <p class="text-xs sm:text-sm text-gray-100 mb-3">Functional calculator for quick math.
                                </p>
                                <div class="flex justify-center space-x-3">
                                    <button onclick="openProjectModal(this.closest('.work-item'))"
                                        aria-label="View details for Calculator project"
                                        class="bg-white text-primary dark:text-dark-primary rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center text-lg sm:text-xl hover:bg-accent hover:text-white dark:hover:bg-dark-accent transition-all duration-300 transform hover:scale-110 shadow-md">
                                        <i class="fas fa-info"></i>
                                    </button>
                                    <a href="https://hasanraiyan.github.io/projects/calculator/index.html"
                                        target="_blank" rel="noopener noreferrer"
                                        aria-label="View live Calculator project"
                                        class="bg-white text-primary dark:text-dark-primary rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center text-lg sm:text-xl hover:bg-accent hover:text-white dark:hover:bg-dark-accent transition-all duration-300 transform hover:scale-110 shadow-md">
                                        <i class="fas fa-external-link-alt"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Hidden Portfolio Items Wrapper -->
                    <div id="portfolio-list-hidden" class="contents">

                        <!-- Project 4: Tic Tac Toe PvP -->
                        <div class="work-item hidden group relative rounded-xl overflow-hidden shadow-lg bg-bg-surface dark:bg-dark-bg-surface transform transition duration-300 hover:shadow-2xl dark:hover:shadow-dark-bg-dark/50 hover:-translate-y-2 animate-on-scroll animate-fade-up"
                            data-animate data-delay="0" data-modal-title="Tic Tac Toe (Player vs Player)"
                            data-modal-desc="Play the classic Tic Tac Toe game head-to-head against another player on the same device. Simple, fun, and includes turn indicators and win detection."
                            data-modal-tech="HTML, CSS, JavaScript"
                            data-modal-learnings="Refined basic game logic and state management for a two-player experience."
                            data-modal-live="https://hasanraiyan.github.io/TikTakToe/"
                            data-modal-repo="https://github.com/hasanraiyan/TikTakToe">
                            <img src="./images/work-3.png" alt="Tic Tac Toe PvP"
                                class="w-full h-72 sm:h-80 md:h-96 object-cover object-top transition-transform duration-500 group-hover:scale-110"
                                loading="lazy">
                            <div
                                class="layer absolute inset-0 bg-gradient-to-t from-blue-800/80 via-blue-700/70 to-transparent dark:from-blue-900/80 dark:via-blue-800/70 opacity-0 group-hover:opacity-100 transition-all duration-500 flex flex-col items-center justify-end p-4 sm:p-6 text-center transform translate-y-4 group-hover:translate-y-0">
                                <div
                                    class="glass-effect rounded-lg p-4 w-full transform transition-transform duration-500 delay-100 group-hover:scale-100 scale-95">
                                    <h3 class="text-lg sm:text-xl font-semibold text-white mb-1 sm:mb-2">Tic Tac Toe
                                        (PvP)</h3>
                                    <p class="text-xs sm:text-sm text-gray-100 mb-3">Play head-to-head with a friend.
                                    </p>
                                    <div class="flex justify-center space-x-3">
                                        <button onclick="openProjectModal(this.closest('.work-item'))"
                                            aria-label="View details for Tic Tac Toe PvP project"
                                            class="bg-white text-primary dark:text-dark-primary rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center text-lg sm:text-xl hover:bg-accent hover:text-white dark:hover:bg-dark-accent transition-all duration-300 transform hover:scale-110 shadow-md">
                                            <i class="fas fa-info"></i>
                                        </button>
                                        <a href="https://hasanraiyan.github.io/TikTakToe/" target="_blank"
                                            rel="noopener noreferrer" aria-label="View live Tic Tac Toe PvP project"
                                            class="bg-white text-primary dark:text-dark-primary rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center text-lg sm:text-xl hover:bg-accent hover:text-white dark:hover:bg-dark-accent transition-all duration-300 transform hover:scale-110 shadow-md">
                                            <i class="fas fa-external-link-alt"></i>
                                        </a>
                                        <a href="https://github.com/hasanraiyan/TikTakToe" target="_blank"
                                            rel="noopener noreferrer"
                                            aria-label="View Tic Tac Toe PvP source code on Github"
                                            class="bg-white text-primary dark:text-dark-primary rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center text-lg sm:text-xl hover:bg-accent hover:text-white dark:hover:bg-dark-accent transition-all duration-300 transform hover:scale-110 shadow-md">
                                            <i class="fab fa-github"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Project 5: Project Management UI -->
                        <div class="work-item hidden group relative rounded-xl overflow-hidden shadow-lg bg-bg-surface dark:bg-dark-bg-surface transform transition duration-300 hover:shadow-2xl dark:hover:shadow-dark-bg-dark/50 hover:-translate-y-2 animate-on-scroll animate-fade-up"
                            data-animate data-delay="100" data-modal-title="Project Management UI (Concept)"
                            data-modal-desc="A conceptual user interface design for a project management dashboard. Focuses on clean layout, component structure (cards, sidebars), and visual hierarchy using Tailwind CSS. This is primarily a design showcase."
                            data-modal-tech="HTML, Tailwind CSS"
                            data-modal-learnings="Practiced translating UI concepts into functional HTML/CSS using Tailwind utilities for layout and styling. Focused on component-based structure."
                            data-modal-live="https://hasanraiyan.github.io/projects/" data-modal-repo="">
                            <img src="./images/work-4.png" alt="Project Management UI"
                                class="w-full h-72 sm:h-80 md:h-96 object-cover object-top transition-transform duration-500 group-hover:scale-110"
                                loading="lazy">
                            <div
                                class="layer absolute inset-0 bg-gradient-to-t from-blue-800/80 via-blue-700/70 to-transparent dark:from-blue-900/80 dark:via-blue-800/70 opacity-0 group-hover:opacity-100 transition-all duration-500 flex flex-col items-center justify-end p-4 sm:p-6 text-center transform translate-y-4 group-hover:translate-y-0">
                                <div
                                    class="glass-effect rounded-lg p-4 w-full transform transition-transform duration-500 delay-100 group-hover:scale-100 scale-95">
                                    <h3 class="text-lg sm:text-xl font-semibold text-white mb-1 sm:mb-2">Project
                                        Management UI</h3>
                                    <p class="text-xs sm:text-sm text-gray-100 mb-3">Conceptual UI for project tracking.
                                    </p>
                                    <div class="flex justify-center space-x-3">
                                        <button onclick="openProjectModal(this.closest('.work-item'))"
                                            aria-label="View details for Project Management UI project"
                                            class="bg-white text-primary dark:text-dark-primary rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center text-lg sm:text-xl hover:bg-accent hover:text-white dark:hover:bg-dark-accent transition-all duration-300 transform hover:scale-110 shadow-md">
                                            <i class="fas fa-info"></i>
                                        </button>
                                        <a href="https://hasanraiyan.github.io/projects/" target="_blank"
                                            rel="noopener noreferrer"
                                            aria-label="View live Project Management UI project"
                                            class="bg-white text-primary dark:text-dark-primary rounded-full w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center text-lg sm:text-xl hover:bg-accent hover:text-white dark:hover:bg-dark-accent transition-all duration-300 transform hover:scale-110 shadow-md">
                                            <i class="fas fa-external-link-alt"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div> <!-- End Hidden Portfolio Items Wrapper -->
                </div>

                <!-- Portfolio Show More/Less Buttons -->
                <div class="portfolio-controls text-center mt-12 md:mt-16 animate-on-scroll animate-fade-up"
                    data-animate data-delay="300">
                    <button class="btn btn-secondary" onclick="showMore()" id="more-btn" aria-label="Show more projects"
                        aria-expanded="false" aria-controls="portfolio-list-hidden">
                        <i class="fas fa-chevron-down mr-2 text-sm"></i> See More Projects
                    </button>
                    <button class="btn btn-secondary hidden" onclick="showLess()" id="less-btn"
                        aria-label="Show fewer projects" aria-expanded="true" aria-controls="portfolio-list-hidden">
                        <i class="fas fa-chevron-up mr-2 text-sm"></i> Show Less
                    </button>
                </div>
            </div>
        </section>

        <!-- Project Details Modal -->
        <div id="project-modal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-title"
            aria-hidden="true" tabindex="-1">
            <div class="modal-content" role="document">
                <button id="modal-close-button" onclick="closeProjectModal()"
                    class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 transition-colors duration-200 focus-visible:ring-offset-bg-surface dark:focus-visible:ring-offset-dark-bg-surface"
                    aria-label="Close project details modal">
                    <i class="fas fa-times text-2xl"></i>
                </button>

                <h3 id="modal-title" class="text-2xl font-semibold text-primary dark:text-dark-primary mb-4">Project
                    Title</h3>
                <p id="modal-desc" class="text-text-light dark:text-dark-text-light mb-5 text-base leading-relaxed">
                    Project description goes here...</p>
                <div class="mb-5">
                    <strong class="text-text-main dark:text-dark-text-main font-medium">Technologies Used:</strong>
                    <p id="modal-tech" class="text-sm text-text-light dark:text-dark-text-light mt-1">HTML, CSS, JS</p>
                </div>
                <div id="modal-learnings-container" class="mb-5">
                    <!-- Learnings added by JS -->
                </div>
                <div id="modal-links"
                    class="flex flex-wrap gap-3 border-t border-border-light dark:border-dark-border-dark pt-5 mt-5">
                    <!-- Links added by JS -->
                </div>
            </div>
        </div>

        <!-- Contact Section -->
        <section id="contact"
            class="py-20 md:py-28 bg-gradient-to-br from-bg-surface via-gray-50 to-bg-surface dark:from-dark-bg-surface dark:via-gray-800/20 dark:to-dark-bg-surface">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex flex-wrap md:flex-nowrap justify-between gap-12 md:gap-16 lg:gap-20 items-start">

                    <!-- ========== Left Column: Contact Info ========== -->
                    <div class="contact-left w-full md:w-2/5 lg:w-1/3 animate-on-scroll animate-slide-left"
                        data-animate>
                        <h2
                            class="subtitle text-3xl md:text-4xl text-primary dark:text-dark-primary font-semibold mb-8 md:mb-10 text-left relative pb-4 subtitle-underline-left">
                            Get In Touch
                        </h2>
                        <p class="mb-8 text-text-light dark:text-dark-text-light leading-relaxed">
                            Interested in collaborating, have a project idea, a question, or just want to connect? Feel
                            free to reach out using the form or details below.
                        </p>

                        <!-- Contact Details -->
                        <div class="space-y-6 mb-10">
                            <div class="contact-info flex items-center text-text-light dark:text-dark-text-light group">
                                <div
                                    class="flex-shrink-0 w-8 h-8 bg-primary/10 dark:bg-dark-primary/10 rounded-full flex items-center justify-center mr-4 transition-transform duration-300 group-hover:scale-110">
                                    <i class="fas fa-paper-plane text-primary dark:text-dark-primary text-lg"></i>
                                </div>
                                <div class="flex items-center flex-wrap">
                                    <a id="email-address" href="mailto:raiyanhasan2006@gmail.com"
                                        class="font-medium text-text-main dark:text-dark-text-main hover:text-primary dark:hover:text-dark-primary hover:underline break-all transition-colors duration-300 mr-2">raiyanhasan2006@gmail.com</a>
                                    <button id="copy-email-btn" aria-label="Copy email address"
                                        title="Copy email address"
                                        class="text-text-light dark:text-dark-text-light hover:text-primary dark:hover:text-dark-primary text-sm transition-colors duration-200">
                                        <i class="far fa-copy"></i>
                                    </button>
                                    <span id="copy-feedback"
                                        class="text-xs text-green-600 dark:text-green-400 ml-2 opacity-0 transition-opacity duration-300"
                                        aria-live="polite">Copied!</span>
                                </div>
                            </div>
                            <div class="contact-info flex items-center text-text-light dark:text-dark-text-light group">
                                <div
                                    class="flex-shrink-0 w-8 h-8 bg-primary/10 dark:bg-dark-primary/10 rounded-full flex items-center justify-center mr-4 transition-transform duration-300 group-hover:scale-110">
                                    <i class="fas fa-map-marker-alt text-primary dark:text-dark-primary text-lg"></i>
                                </div>
                                <span class="text-text-main dark:text-dark-text-main">Muzaffarpur, Bihar, India</span>
                            </div>
                        </div>

                        <!-- Social Media Links -->
                        <div class="mb-10">
                            <h3 class="text-lg font-medium text-text-main dark:text-dark-text-main mb-4">Connect with me
                            </h3>
                            <div class="social-icons flex space-x-5">
                                <a href="https://www.hackerrank.com/profile/raiyanhasan2006" target="_blank"
                                    rel="noopener noreferrer" title="Hackerrank" aria-label="My Hackerrank profile"
                                    class="text-gray-500 dark:text-gray-400 hover:text-[#2ec866] text-3xl transition-all duration-300 ease-in-out hover:scale-110"><i
                                        class="fab fa-hackerrank"></i></a>
                                <a href="https://www.linkedin.com/in/hasanraiyan/" target="_blank"
                                    rel="noopener noreferrer" title="LinkedIn" aria-label="My LinkedIn profile"
                                    class="text-gray-500 dark:text-gray-400 hover:text-primary dark:hover:text-dark-primary text-3xl transition-all duration-300 ease-in-out hover:scale-110"><i
                                        class="fab fa-linkedin"></i></a>
                                <a href="https://github.com/hasanraiyan" target="_blank" rel="noopener noreferrer"
                                    title="Github" aria-label="My Github profile"
                                    class="text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white text-3xl transition-all duration-300 ease-in-out hover:scale-110"><i
                                        class="fab fa-github"></i></a>
                            </div>
                        </div>

                        <!-- CV Download -->
                        <div>
                            <a href="./resume/Raiyan_Hasan_Resume.pdf" download="Raiyan_Hasan_Resume.pdf"
                                class="btn btn-secondary inline-flex items-center"
                                aria-label="Download my resume in PDF format">
                                <i class="fas fa-download mr-2"></i> Download CV
                            </a>
                        </div>
                    </div>

                    <!-- ========== Right Column: Contact Form ========== -->
                    <div class="contact-right w-full md:w-3/5 lg:w-2/3 animate-on-scroll animate-slide-right"
                        data-animate>
                        <div
                            class="bg-white dark:bg-dark-bg-surface-card border border-border-light/50 dark:border-dark-border-dark/50 rounded-xl p-6 md:p-10 shadow-lg dark:shadow-dark-bg-dark/50">
                            <h3 class="text-2xl md:text-3xl font-semibold text-text-main dark:text-dark-text-main mb-8">
                                Send me a message</h3>

                             <!-- UPDATED FORM: id="contact-form", names="username", "email", "phone", "message" -->
                            <form id="contact-form" autocomplete="on" class="w-full space-y-6"
                                aria-busy="false">
                                <!-- Name Input -->
                                <div class="relative">
                                    <span
                                        class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 text-lg pointer-events-none">
                                        <i class="far fa-user"></i>
                                    </span>
                                    <input type="text" name="username" placeholder="Your Name" required
                                        aria-label="Your Name"
                                        class="w-full bg-gray-50 dark:bg-dark-bg-input border border-border-light dark:border-dark-border-dark rounded-lg p-4 pl-12 text-text-main dark:text-dark-text-main placeholder-gray-400 dark:placeholder-gray-500 transition-all duration-300 ease-in-out
                                          focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary dark:focus:ring-dark-primary/40 dark:focus:border-dark-primary
                                          invalid:border-pink-500 dark:invalid:border-pink-600 invalid:focus:ring-pink-500/50 dark:invalid:focus:ring-pink-600/50">
                                </div>

                                <!-- Email Input -->
                                <div class="relative">
                                    <span
                                        class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 text-lg pointer-events-none">
                                        <i class="far fa-envelope"></i>
                                    </span>
                                    <input type="email" name="email" placeholder="Your Email" required
                                        aria-label="Your Email"
                                        class="w-full bg-gray-50 dark:bg-dark-bg-input border border-border-light dark:border-dark-border-dark rounded-lg p-4 pl-12 text-text-main dark:text-dark-text-main placeholder-gray-400 dark:placeholder-gray-500 transition-all duration-300 ease-in-out
                                          focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary dark:focus:ring-dark-primary/40 dark:focus:border-dark-primary
                                          invalid:border-pink-500 dark:invalid:border-pink-600 invalid:focus:ring-pink-500/50 dark:invalid:focus:ring-pink-600/50">
                                </div>

                                <!-- Phone Input (Optional) -->
                                <div class="relative">
                                    <span
                                        class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500 text-lg pointer-events-none">
                                        <i class="fas fa-phone-alt"></i>
                                    </span>
                                    <input type="tel" name="phone" placeholder="Your Phone (Optional)"
                                        aria-label="Your Phone Number"
                                        class="w-full bg-gray-50 dark:bg-dark-bg-input border border-border-light dark:border-dark-border-dark rounded-lg p-4 pl-12 text-text-main dark:text-dark-text-main placeholder-gray-400 dark:placeholder-gray-500 transition-all duration-300 ease-in-out
                                          focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary dark:focus:ring-dark-primary/40 dark:focus:border-dark-primary">
                                </div>

                                <!-- Message Textarea -->
                                <div class="relative">
                                    <span
                                        class="absolute left-4 top-5 text-gray-400 dark:text-gray-500 text-lg pointer-events-none">
                                        <i class="far fa-comment-dots"></i>
                                    </span>
                                    <textarea name="message" placeholder="Your Message" rows="5" required
                                        aria-label="Your Message"
                                        class="w-full bg-gray-50 dark:bg-dark-bg-input border border-border-light dark:border-dark-border-dark rounded-lg p-4 pl-12 text-text-main dark:text-dark-text-main placeholder-gray-400 dark:placeholder-gray-500 resize-y min-h-[140px] transition-all duration-300 ease-in-out
                                          focus:outline-none focus:ring-2 focus:ring-primary/40 focus:border-primary dark:focus:ring-dark-primary/40 dark:focus:border-dark-primary
                                          invalid:border-pink-500 dark:invalid:border-pink-600 invalid:focus:ring-pink-500/50 dark:invalid:focus:ring-pink-600/50"></textarea>
                                </div>

                                <!-- Submit Button -->
                                <div class="pt-2">
                                    <button type="submit"
                                        class="btn btn-primary px-8 py-3 w-full sm:w-auto group flex items-center justify-center relative transition-all duration-300 ease-in-out disabled:opacity-70 disabled:cursor-not-allowed">
                                        <span class="submit-text inline-block">Send Message</span>
                                        <i class="submit-icon fas fa-paper-plane ml-2 transition-transform duration-300 group-hover:translate-x-1 group-focus:translate-x-1"></i>
                                        <span
                                            class="loading-spinner absolute inset-0 flex items-center justify-center bg-primary dark:bg-dark-primary opacity-0 transition-opacity duration-300 pointer-events-none">
                                            <svg class="animate-spin h-5 w-5 text-white"
                                                xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor"
                                                    stroke-width="4"></circle>
                                                <path class="opacity-75" fill="currentColor"
                                                    d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                                                </path>
                                            </svg>
                                        </span>
                                    </button>
                                </div>
                            </form>

                            <!-- Form Submission Feedback Message -->
                            <div id="msg"
                                class="mt-6 p-4 rounded-md text-center font-medium text-sm transition-all duration-300 opacity-0 transform translate-y-2"
                                role="alert" aria-live="polite" style="visibility: hidden;">
                                <!-- Content will be added by JS -->
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer
        class="copyright bg-text-main dark:bg-dark-bg-surface text-gray-400 dark:text-dark-text-light text-center py-6 mt-20 md:mt-28 text-sm transition-colors duration-300 ease-in-out">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative">
            <p> <span id="current-year"></span> Raiyan Hasan. Crafted with <i class="fas fa-heart text-red-500"></i>
                using Tailwind CSS.</p>
            <button id="back-to-top" onclick="scrollToTop()"
                class="back-to-top fixed bottom-6 right-6 bg-primary dark:bg-dark-primary text-white w-10 h-10 rounded-full flex items-center justify-center text-lg shadow-lg hover:bg-primary-darker dark:hover:bg-dark-primary-darker transition-all duration-300 opacity-0 pointer-events-none transform translate-y-4"
                aria-label="Back to top">
                <i class="fas fa-arrow-up"></i>
            </button>
        </div>
    </footer>

    <!-- Main JavaScript -->
    <script>
        // --- Global Constants ---
        const SCROLL_OFFSET = 80; // Offset for smooth scrolling to account for fixed header
        const ANIMATION_DELAY_STEP = 100; // Stagger delay for portfolio items
        // *** CHANGE THIS to your actual API endpoint ***
        const API_ENDPOINT = 'http://localhost:3001/posts'; // URL for the contact form backend
        const FOCUSABLE_MODAL_ELEMENTS = 'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';

        // --- DOM Element Cache ---
        // Cache frequently accessed DOM elements to avoid repeated querying
        const Cache = {
            htmlElement: document.documentElement,
            preloader: document.getElementById('preloader'),
            sidemenu: document.getElementById("sidemenu"),
            siteHeader: document.getElementById("site-header"),
            backToTopButton: document.getElementById('back-to-top'),
            // Contact Form Elements
            contactForm: document.getElementById('contact-form'), // Use ID selector
            formMsg: document.getElementById('msg'),
            submitButton: document.querySelector('#contact-form button[type="submit"]'),
            submitButtonText: document.querySelector('#contact-form .submit-text'),
            submitButtonIcon: document.querySelector('#contact-form .submit-icon'),
            loadingSpinner: document.querySelector('#contact-form .loading-spinner'),
            // Tabs
            tabLinks: document.querySelectorAll(".tab-links"),
            tabContents: document.querySelectorAll(".tab-contents"),
            // Navigation
            navLinks: document.querySelectorAll('#main-nav ul:not(#sidemenu) .nav-link'),
            mobileMenuButton: document.querySelector('.icon-menu'),
            mobileMenuCloseButton: document.querySelector('#sidemenu .icon-close'),
            // Theme Toggles
            themeToggleButtons: document.querySelectorAll('#theme-toggle, #theme-toggle-mobile'),
            themeToggleDarkIcons: document.querySelectorAll('#theme-toggle-dark-icon, #theme-toggle-dark-icon-mobile'),
            themeToggleLightIcons: document.querySelectorAll('#theme-toggle-light-icon, #theme-toggle-light-icon-mobile'),
            // Portfolio Items & Controls
            portfolioList: document.querySelector('#portfolio .work-list'),
            portfolioMoreBtn: document.getElementById('more-btn'),
            portfolioLessBtn: document.getElementById('less-btn'),
            portfolioHiddenWrapper: document.getElementById('portfolio-list-hidden'),
            // Project Modal Elements
            projectModal: document.getElementById('project-modal'),
            modalContent: document.querySelector('#project-modal .modal-content'),
            modalTitle: document.getElementById('modal-title'),
            modalDesc: document.getElementById('modal-desc'),
            modalTech: document.getElementById('modal-tech'),
            modalLearningsContainer: document.getElementById('modal-learnings-container'),
            modalLinks: document.getElementById('modal-links'),
            modalCloseButton: document.getElementById('modal-close-button'),
            // About Section Toggle Controls
            skillsHiddenWrapper: document.getElementById('skills-list-hidden'),
            educationHiddenWrapper: document.getElementById('education-list-hidden'),
            skillsMoreBtn: document.getElementById('more-skills-btn'),
            skillsLessBtn: document.getElementById('less-skills-btn'),
            educationMoreBtn: document.getElementById('more-Education-btn'),
            educationLessBtn: document.getElementById('less-Education-btn'),
            // Contact Info Helpers
            copyEmailBtn: document.getElementById('copy-email-btn'),
            emailAddressSpan: document.getElementById('email-address'),
            copyFeedbackSpan: document.getElementById('copy-feedback'),
        };

        // --- State Variables ---
        let isModalOpen = false;
        let focusedElementBeforeModal = null;

        // --- Utility Functions ---

        /** Debounces a function to limit how often it can run. */
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => { clearTimeout(timeout); func(...args); };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // --- Theme Management ---

        /** Updates the theme toggle button icons based on the current mode. */
        function updateThemeUI(isDarkMode) {
            Cache.themeToggleDarkIcons.forEach(icon => icon.classList.toggle('hidden', !isDarkMode));
            Cache.themeToggleLightIcons.forEach(icon => icon.classList.toggle('hidden', isDarkMode));
            Cache.themeToggleButtons.forEach(button => button.setAttribute('aria-pressed', isDarkMode.toString()));
        }

        /** Applies the theme (dark/light) to the HTML element and saves preference. */
        function applyTheme(isDarkMode) {
            Cache.htmlElement.classList.toggle('dark', isDarkMode);
            localStorage.theme = isDarkMode ? 'dark' : 'light';
            updateThemeUI(isDarkMode);
            console.log(`Theme changed to: ${isDarkMode ? 'Dark' : 'Light'}`);
        }

        /** Toggles the theme between light and dark mode. */
        function toggleTheme() {
            const isCurrentlyDark = Cache.htmlElement.classList.contains('dark');
            applyTheme(!isCurrentlyDark);
        }

        /** Initializes the theme based on preference or system settings. */
        function initializeTheme() {
            const isDarkMode = localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches);
            updateThemeUI(isDarkMode); // Update UI immediately based on initial check
            Cache.themeToggleButtons.forEach(btn => btn.addEventListener('click', toggleTheme));
        }

        // --- Tabbed Interface (About Section) ---

        /** Handles switching between tabs in the 'About' section. */
        function opentab(event, tabpanelId) {
            // Update tab button styles and ARIA attributes
            Cache.tabLinks.forEach(tablink => {
                const isSelected = tablink === event.currentTarget;
                tablink.classList.toggle("active-link", isSelected);
                // Remove explicit color/border classes, rely on active-link style
                tablink.setAttribute('aria-selected', isSelected.toString());
                tablink.setAttribute('tabindex', isSelected ? '0' : '-1'); // Manage focusability
            });
             // Show/hide tab panels
            Cache.tabContents.forEach(tabcontent => {
                const isTargetPanel = tabcontent.id === tabpanelId;
                tabcontent.classList.toggle("hidden", !isTargetPanel);
                tabcontent.setAttribute('aria-hidden', (!isTargetPanel).toString());
            });
             // Ensure the newly selected tab button receives focus if activated by keyboard
             if (event.type === 'keydown' && (event.key === 'Enter' || event.key === ' ')) {
                 event.currentTarget.focus();
             }
        }

        // --- Mobile Menu ---

        /** Opens the mobile side menu. */
        function openmenu() {
            if (!Cache.sidemenu) return;
            Cache.sidemenu.classList.remove('translate-x-full');
            Cache.sidemenu.classList.add('translate-x-0');
            Cache.sidemenu.setAttribute('aria-hidden', 'false');
            Cache.mobileMenuButton?.setAttribute('aria-expanded', 'true');
            document.body.style.overflow = 'hidden'; // Prevent background scroll
            trapFocus(Cache.sidemenu); // Trap focus within the menu
        }

        /** Closes the mobile side menu. */
        function closemenu() {
            if (!Cache.sidemenu) return;
            Cache.sidemenu.classList.remove('translate-x-0');
            Cache.sidemenu.classList.add('translate-x-full');
            Cache.sidemenu.setAttribute('aria-hidden', 'true');
            Cache.mobileMenuButton?.setAttribute('aria-expanded', 'false');
            document.body.style.overflow = ''; // Restore background scroll
            releaseFocus(Cache.sidemenu); // Release focus trap
            Cache.mobileMenuButton?.focus(); // Return focus to the menu button
        }

        // --- Contact Form Submission ---

        /** Displays a feedback message (success or error) for the contact form. */
        function showFeedback(message, isError = false) {
            if (!Cache.formMsg) return;
            Cache.formMsg.textContent = message;
            // Base classes + visible state
            Cache.formMsg.className = 'mt-6 p-4 rounded-md text-center font-medium text-sm transition-all duration-300 opacity-100 transform translate-y-0';
            if (isError) {
                Cache.formMsg.classList.add('bg-red-100', 'border', 'border-red-300', 'text-red-800', 'dark:bg-red-900/30', 'dark:border-red-700', 'dark:text-red-300');
            } else {
                Cache.formMsg.classList.add('bg-green-100', 'border', 'border-green-300', 'text-green-800', 'dark:bg-green-900/30', 'dark:border-green-700', 'dark:text-green-300');
            }
            Cache.formMsg.style.visibility = 'visible';
            Cache.formMsg.setAttribute('aria-hidden', 'false'); // Make visible to screen readers
        }

        /** Hides the feedback message for the contact form. */
        function hideFeedback() {
            if (!Cache.formMsg) return;
            Cache.formMsg.textContent = '';
            // Base classes + hidden state
            Cache.formMsg.className = 'mt-6 p-4 rounded-md text-center font-medium text-sm transition-all duration-300 opacity-0 transform translate-y-2';
            Cache.formMsg.style.visibility = 'hidden';
            Cache.formMsg.setAttribute('aria-hidden', 'true'); // Hide from screen readers
        }

        /** Toggles the loading state UI on the submit button. */
        function setLoading(isLoading) {
            if (!Cache.submitButton || !Cache.submitButtonText || !Cache.submitButtonIcon || !Cache.loadingSpinner || !Cache.contactForm) return;

            if (isLoading) {
                Cache.submitButton.disabled = true;
                Cache.contactForm.setAttribute('aria-busy', 'true');
                Cache.submitButtonText.style.opacity = '0';
                Cache.submitButtonIcon.style.opacity = '0';
                // Use visibility hidden or display none to ensure text/icon doesn't affect layout
                Cache.submitButtonText.style.visibility = 'hidden';
                Cache.submitButtonIcon.style.visibility = 'hidden';
                Cache.loadingSpinner.style.opacity = '1';
                Cache.loadingSpinner.style.pointerEvents = 'auto';
                hideFeedback(); // Clear previous messages when starting to load
            } else {
                Cache.submitButton.disabled = false;
                Cache.contactForm.setAttribute('aria-busy', 'false');
                Cache.submitButtonText.style.opacity = '1';
                Cache.submitButtonIcon.style.opacity = '1';
                Cache.submitButtonText.style.visibility = 'visible';
                Cache.submitButtonIcon.style.visibility = 'visible';
                Cache.loadingSpinner.style.opacity = '0';
                Cache.loadingSpinner.style.pointerEvents = 'none';
            }
        }

        /** Handles the contact form submission, sending data to the backend API. */
        async function handleFormSubmit(e) {
            e.preventDefault(); // Prevent default browser form submission
            if (!Cache.contactForm) return;

            setLoading(true); // Show loading indicator

            const formData = new FormData(Cache.contactForm);
            const data = {};
            // Convert FormData to a plain JavaScript object
            formData.forEach((value, key) => {
                const trimmedValue = typeof value === 'string' ? value.trim() : value;
                // Use lowercase keys expected by the backend (username, email, phone, message)
                const lowerKey = key.toLowerCase();
                if (lowerKey === 'phone' && trimmedValue === '') {
                    return; // Skip empty optional phone field
                }
                data[lowerKey] = trimmedValue;
            });

            try {
                // Send data to the API endpoint using fetch
                const response = await fetch(API_ENDPOINT, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Accept': 'application/json' // Indicate we accept JSON responses
                    },
                    body: JSON.stringify(data) // Send data as JSON string
                });

                // Try to parse the response as JSON, even if the status code indicates an error
                const responseData = await response.json().catch((err) => {
                    console.warn("Response was not valid JSON:", err);
                    // If parsing fails, create a generic response object
                    return { message: `Server responded with status ${response.status}. Check console for details.` };
                });

                // Check if the request was successful (status code 2xx)
                if (!response.ok) {
                    // Use server's error message if available, otherwise use the generic one
                    const errorMessage = responseData.message || `An error occurred (${response.status}). Please try again.`;
                    throw new Error(errorMessage); // Throw an error to be caught below
                }

                // --- Success ---
                showFeedback(responseData.message || 'Message sent successfully! Thank you.');
                Cache.contactForm.reset(); // Clear the form fields
                // Optional: Auto-hide success message after a few seconds
                setTimeout(hideFeedback, 6000);

            } catch (error) {
                // --- Error ---
                console.error('Form Submission Error:', error);
                // Display the error message
                showFeedback(error.message || 'An unexpected error occurred. Please try again later or contact me directly.', true);

            } finally {
                // --- Always Run ---
                setLoading(false); // Hide loading indicator regardless of success/failure
            }
        }


        // --- Show More/Less Functionality ---

        /** Sets up the 'Show More/Less' toggle for a list of items. */
        function setupToggle(wrapper, itemSelector, moreBtn, lessBtn, initialVisibleCount) {
            if (!wrapper || !moreBtn || !lessBtn) return; // Ensure elements exist

            const items = Array.from(wrapper.querySelectorAll(itemSelector));
            const totalItems = items.length;

            // If fewer items than the initial visible count, show all and hide buttons
            if (totalItems <= initialVisibleCount) {
                items.forEach(item => item.classList.remove('hidden')); // Ensure all are visible
                moreBtn.classList.add('hidden'); // Hide "Show More"
                lessBtn.classList.add('hidden'); // Hide "Show Less"
                return; // No toggling needed
            }

            const wrapperId = wrapper.id;
            if (wrapperId) { // Link buttons to the content they control for accessibility
                moreBtn.setAttribute('aria-controls', wrapperId);
                lessBtn.setAttribute('aria-controls', wrapperId);
            }

            /** Updates item visibility and button states. */
            const updateVisibility = (showAll) => {
                 // Toggle visibility of items beyond the initial count
                items.forEach((item, index) => {
                    // Always show the initial items, toggle the rest based on 'showAll'
                    item.classList.toggle('hidden', index >= initialVisibleCount && !showAll);
                });

                // Add transition effect when showing more
                if (showAll) {
                    items.forEach((item, index) => {
                        if (index >= initialVisibleCount) {
                            item.classList.add('opacity-0');
                            requestAnimationFrame(() => { // Ensure opacity change happens after 'hidden' is removed
                                item.classList.add('transition-opacity', 'duration-500', 'ease-out');
                                item.classList.remove('opacity-0');
                            });
                        }
                    });
                } else {
                    // Remove transition classes when hiding (optional)
                     items.forEach(item => item.classList.remove('transition-opacity', 'duration-500', 'ease-out'));
                }

                // Toggle button visibility and ARIA attributes
                moreBtn.classList.toggle('hidden', showAll);
                lessBtn.classList.toggle('hidden', !showAll);
                moreBtn.setAttribute('aria-expanded', showAll.toString());
                lessBtn.setAttribute('aria-expanded', showAll.toString());

                // If showing less, focus the "Show More" button for better usability
                if (!showAll && document.activeElement === lessBtn) {
                    moreBtn.focus();
                }
            };

            // Initial state: Hide items beyond the initial count, show "More" button
            items.forEach((item, index) => item.classList.toggle('hidden', index >= initialVisibleCount));
            wrapper.classList.remove('hidden'); // Ensure wrapper itself is visible
            moreBtn.classList.remove('hidden');
            lessBtn.classList.add('hidden');
            moreBtn.setAttribute('aria-expanded', 'false');
            lessBtn.setAttribute('aria-expanded', 'false'); // Initially false for lessBtn too

            // Assign event listeners
            moreBtn.onclick = () => updateVisibility(true);
            lessBtn.onclick = () => updateVisibility(false);
        }

        // Placeholder functions (logic is now inside setupToggle)
        function showMore() { console.warn("showMore called directly - logic is in setupToggle"); }
        function showLess() { console.warn("showLess called directly - logic is in setupToggle"); }

        // --- Accessibility: Focus Trapping ---

        /** Traps keyboard focus within a given element (modal, menu). */
        function trapFocus(element) {
            if (!element) return;
            const focusableEls = Array.from(element.querySelectorAll(FOCUSABLE_MODAL_ELEMENTS)).filter(el => el.offsetParent !== null); // Filter only visible elements

            if (focusableEls.length === 0) { // Handle case with no focusable elements
                const closeButton = element.querySelector('.icon-close, #modal-close-button');
                if (closeButton) { closeButton.focus(); }
                else if (element.hasAttribute('tabindex')) { element.focus(); } // Focus container if possible
                return;
            }

            const firstFocusableEl = focusableEls[0];
            const lastFocusableEl = focusableEls[focusableEls.length - 1];

            // Focus the first element initially
            firstFocusableEl.focus();

            const handleKeyDown = (e) => {
                if (e.key !== 'Tab') return; // Only handle Tab key

                const currentlyFocused = document.activeElement;
                 // Re-query focusable elements inside the trap in case they changed dynamically
                const currentFocusableEls = Array.from(element.querySelectorAll(FOCUSABLE_MODAL_ELEMENTS)).filter(el => el.offsetParent !== null);
                if (currentFocusableEls.length === 0) return;

                const currentFirst = currentFocusableEls[0];
                const currentLast = currentFocusableEls[currentFocusableEls.length - 1];

                if (e.shiftKey) { // Shift + Tab
                    if (currentlyFocused === currentFirst) {
                        currentLast.focus(); // Wrap focus to the last element
                        e.preventDefault();
                    }
                } else { // Tab
                    if (currentlyFocused === currentLast) {
                        currentFirst.focus(); // Wrap focus to the first element
                        e.preventDefault();
                    }
                }
                // If tabbing between elements within the trap, allow default behavior
            };

            // Store the handler function reference on the element itself for easy removal
            element.focusTrapHandler = handleKeyDown;
            element.addEventListener('keydown', element.focusTrapHandler);
        }

        /** Releases the focus trap from an element and restores previous focus. */
        function releaseFocus(element = Cache.projectModal) {
            if (!element) return;
            // Remove the stored keydown listener
            if (typeof element.focusTrapHandler === 'function') {
                element.removeEventListener('keydown', element.focusTrapHandler);
                delete element.focusTrapHandler; // Clean up the stored reference
            }
             // Restore focus to the element that had focus before the trap was set
            if (focusedElementBeforeModal) {
                focusedElementBeforeModal.focus();
                focusedElementBeforeModal = null; // Reset for next time
            }
        }

        // --- Project Modal ---

        /** Opens the project details modal and populates it with data. */
        function openProjectModal(workItemElement) {
             // Check if required elements exist
            if (!workItemElement || !Cache.projectModal || !Cache.modalContent || !Cache.modalTitle || !Cache.modalDesc || !Cache.modalTech || !Cache.modalLinks || !Cache.modalLearningsContainer || !Cache.modalCloseButton) {
                console.error("Modal elements not found or work item invalid.");
                return;
            }

            // Populate modal content from data attributes
            Cache.modalTitle.textContent = workItemElement.dataset.modalTitle || 'Project Details';
            Cache.modalDesc.textContent = workItemElement.dataset.modalDesc || 'No description available.';
            Cache.modalTech.textContent = workItemElement.dataset.modalTech || 'N/A';

            // Clear and populate learnings
            Cache.modalLearningsContainer.innerHTML = '';
            const learnings = workItemElement.dataset.modalLearnings;
            if (learnings) {
                Cache.modalLearningsContainer.innerHTML = `
                    <strong class="text-text-main dark:text-dark-text-main font-medium block mb-1">Key Learnings:</strong>
                    <p class="text-sm text-text-light dark:text-dark-text-light">${learnings}</p>
                `;
            }

            // Clear and populate links
            Cache.modalLinks.innerHTML = '';
            const liveLink = workItemElement.dataset.modalLive;
            const repoLink = workItemElement.dataset.modalRepo;
            if (liveLink) Cache.modalLinks.innerHTML += `<a href="${liveLink}" target="_blank" rel="noopener noreferrer" class="btn btn-primary text-sm px-4 py-2"><i class="fas fa-external-link-alt mr-2"></i> View Live</a>`;
            if (repoLink) Cache.modalLinks.innerHTML += `<a href="${repoLink}" target="_blank" rel="noopener noreferrer" class="btn btn-secondary text-sm px-4 py-2"><i class="fab fa-github mr-2"></i> View Code</a>`;
             // Fallback if no links or learnings
            if (!liveLink && !repoLink && !learnings) Cache.modalLinks.innerHTML = '<p class="text-sm text-text-light dark:text-dark-text-light italic">No additional details or links available.</p>';

            // --- Show Modal & Manage State ---
            focusedElementBeforeModal = document.activeElement; // Store current focus
            Cache.projectModal.classList.add('active');
            Cache.projectModal.setAttribute('aria-hidden', 'false');
            isModalOpen = true;
            document.body.style.overflow = 'hidden'; // Prevent background scroll

            // --- Accessibility: Trap Focus ---
            trapFocus(Cache.modalContent);
            // Set initial focus within the modal (delay slightly for rendering)
            setTimeout(() => {
                 // Try focusing the first interactive element, fallback to close button or container
                 (Cache.modalContent.querySelector(FOCUSABLE_MODAL_ELEMENTS) || Cache.modalCloseButton || Cache.modalContent).focus();
            }, 100);
        }

        /** Closes the project details modal. */
        function closeProjectModal() {
            if (!Cache.projectModal || !isModalOpen) return;
            Cache.projectModal.classList.remove('active');
            Cache.projectModal.setAttribute('aria-hidden', 'true');
            isModalOpen = false;
            document.body.style.overflow = ''; // Restore background scroll
            releaseFocus(Cache.modalContent); // Release focus trap and restore focus
        }

        // --- Footer & Scrolling ---

        /** Sets the current year in the footer copyright. */
        function setFooterYear() {
            const currentYearSpan = document.getElementById('current-year');
            if (currentYearSpan) currentYearSpan.textContent = new Date().getFullYear();
        }

        /** Smoothly scrolls the page to a target element. */
        function smoothScrollTo(targetElement) {
            const headerOffset = Cache.siteHeader?.offsetHeight ?? 80; // Use header height or fallback
            const elementPosition = targetElement.getBoundingClientRect().top;
            const offsetPosition = elementPosition + window.pageYOffset - headerOffset - 15; // Adjust offset as needed
            window.scrollTo({ top: offsetPosition, behavior: "smooth" });
        }

        /** Updates the active state of navigation links based on scroll position. */
        function updateActiveNavLink() {
            let currentSectionId = '';
            const sections = document.querySelectorAll('main section[id]'); // Get sections with IDs in main content
            const scrollY = window.pageYOffset;

            // Find the currently viewable section
            sections.forEach(section => {
                const sectionTop = section.offsetTop - SCROLL_OFFSET - 50; // Adjusted threshold
                const sectionBottom = sectionTop + section.offsetHeight;
                if (scrollY >= sectionTop && scrollY < sectionBottom) {
                    currentSectionId = section.id;
                }
            });

             // Handle edge cases: top of page or bottom of page
            if (!currentSectionId) {
                const heroSection = document.getElementById('hero');
                const aboutSection = document.getElementById('about');
                 // If near the top, highlight 'hero'
                if (heroSection && scrollY < (aboutSection?.offsetTop ?? heroSection.offsetHeight) - SCROLL_OFFSET - 50) {
                    currentSectionId = 'hero';
                 // If near the bottom, highlight the last section ('contact')
                } else if ((window.innerHeight + scrollY) >= document.body.offsetHeight - 150) { // Threshold from bottom
                    const lastNavLinkHref = Cache.navLinks[Cache.navLinks.length - 1]?.getAttribute('href');
                    currentSectionId = lastNavLinkHref ? lastNavLinkHref.substring(1) : (sections[sections.length - 1]?.id || '');
                }
            }

            // Update nav link styles
            Cache.navLinks.forEach(link => {
                const linkHref = link.getAttribute('href');
                const isActive = linkHref === `#${currentSectionId}`;
                link.classList.toggle('active-nav', isActive);
                 // Explicitly toggle text/font weight for active state
                 link.classList.toggle('text-primary', isActive);
                 link.classList.toggle('dark:text-dark-primary', isActive);
                 link.classList.toggle('font-semibold', isActive);
                 link.classList.toggle('text-text-main', !isActive); // Reset to default color if not active
                 link.classList.toggle('dark:text-dark-text-light', !isActive); // Reset dark mode default
            });
        }
        const debouncedUpdateActiveNav = debounce(updateActiveNavLink, 100); // Debounce for performance

        /** Handles scroll-related UI changes (header style, back-to-top button, active nav link). */
        function handleScroll() {
            const scrollPosition = window.scrollY;

            // Toggle header shadow and glass effect based on scroll position
            Cache.siteHeader?.classList.toggle('shadow-lg', scrollPosition > 50);
            Cache.siteHeader?.classList.toggle('glass-effect', scrollPosition > 50);

            // Toggle back-to-top button visibility and animation
            if (Cache.backToTopButton) {
                const isVisible = scrollPosition > 300;
                Cache.backToTopButton.style.opacity = isVisible ? '1' : '0';
                Cache.backToTopButton.style.transform = isVisible ? 'translateY(0)' : 'translateY(1rem)';
                Cache.backToTopButton.style.pointerEvents = isVisible ? 'auto' : 'none';
                Cache.backToTopButton.setAttribute('aria-hidden', (!isVisible).toString());
            }

            // Update active navigation link (debounced)
            debouncedUpdateActiveNav();
        }

        /** Scrolls the page smoothly to the top. */
        function scrollToTop() { window.scrollTo({ top: 0, behavior: 'smooth' }); }

        // --- Scroll Animations ---

        /** Sets up Intersection Observer to trigger animations when elements scroll into view. */
        function setupScrollAnimations() {
            const animatedElements = document.querySelectorAll('.animate-on-scroll');

            // Disable animations if IntersectionObserver is not supported or reduced motion is preferred
            if (!('IntersectionObserver' in window) || window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                console.warn("IntersectionObserver not supported or reduced motion preferred, animations disabled.");
                animatedElements.forEach(el => {
                    el.classList.add('is-visible', 'opacity-100'); // Make immediately visible
                    // Reset transforms applied by animation classes
                    el.classList.remove('animate-fade-up', 'animate-slide-left', 'animate-slide-right');
                    el.style.transform = 'translate(0, 0)';
                    // Remove transitions if reduced motion is on
                    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                        el.style.transition = 'none';
                    }
                });
                return;
            }

            // Create observer
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const delay = parseInt(entry.target.dataset.delay || '0', 10);
                        entry.target.style.transitionDelay = `${delay}ms`;
                        entry.target.classList.add('is-visible'); // Trigger animation
                        observer.unobserve(entry.target); // Stop observing once animated
                    }
                });
            }, { rootMargin: '0px 0px -50px 0px', threshold: 0.1 }); // Options: trigger slightly before fully visible

            // Observe each animated element
            animatedElements.forEach(el => observer.observe(el));
        }

        // --- Contact Info Helpers ---

        /** Copies the email address to the clipboard and shows feedback. */
        function copyEmailToClipboard() {
            const email = Cache.emailAddressSpan?.textContent;
            if (!email || !navigator.clipboard) {
                alert('Failed to copy email. Clipboard API not available or permission denied.');
                return;
            }

            navigator.clipboard.writeText(email).then(() => {
                console.log('Email copied to clipboard');
                if (Cache.copyFeedbackSpan) {
                    Cache.copyFeedbackSpan.style.opacity = '1';
                    Cache.copyFeedbackSpan.setAttribute('aria-hidden', 'false');
                    // Hide feedback after 2 seconds
                    setTimeout(() => {
                        Cache.copyFeedbackSpan.style.opacity = '0';
                        Cache.copyFeedbackSpan.setAttribute('aria-hidden', 'true');
                    }, 2000);
                }
            }).catch(err => {
                console.error('Could not copy text: ', err);
                alert('Failed to copy email.');
            });
        }

        // --- Event Listener Setup ---

        /** Adds all necessary event listeners for UI interactions. */
        function addEventListeners() {
            // Mobile Menu
            Cache.mobileMenuButton?.addEventListener('click', openmenu);
            Cache.mobileMenuCloseButton?.addEventListener('click', closemenu);
            // Close menu when a nav link is clicked inside it
            Cache.sidemenu?.querySelectorAll('a[href^="#"]').forEach(link => link.addEventListener('click', closemenu));

            // About Section Tabs
            Cache.tabLinks.forEach(link => {
                link.addEventListener('click', (e) => opentab(e, link.getAttribute('aria-controls')));
                // Allow activation with Enter/Space keys for accessibility
                link.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault(); // Prevent default spacebar scroll
                        opentab(e, link.getAttribute('aria-controls'));
                    }
                });
            });

            // Contact Form Submission
            Cache.contactForm?.addEventListener('submit', handleFormSubmit);

            // Smooth Scrolling for internal links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const targetId = this.hash;
                    if (this.classList.contains('skip-link') || !targetId || targetId === '#') { return; } // Skip skip-link and invalid hashes
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        e.preventDefault();
                        smoothScrollTo(targetElement);
                        // Optional: Update URL hash without page jump (use carefully)
                        // history.pushState(null, null, targetId);
                    }
                });
            });

            // Back to Top Button
            Cache.backToTopButton?.addEventListener('click', scrollToTop);

            // Project Modal Interactions
            Cache.modalCloseButton?.addEventListener('click', closeProjectModal);
             // Close modal if overlay (background) is clicked
            Cache.projectModal?.addEventListener('click', (e) => { if (e.target === Cache.projectModal) closeProjectModal(); });
             // Close modal on Escape key press
            document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && isModalOpen) closeProjectModal(); });

            // Copy Email Button
            Cache.copyEmailBtn?.addEventListener('click', copyEmailToClipboard);

            // Global Scroll Listener
            window.addEventListener('scroll', handleScroll, { passive: true }); // Use passive listener for scroll performance
        }

        // --- Initialization ---

        /** Runs when the DOM is fully loaded and parsed. */
        document.addEventListener('DOMContentLoaded', () => {
            initializeTheme(); // Set theme early
            setFooterYear();

            // Setup 'Show More/Less' toggles with initial visible counts
            // Args: wrapper, itemSelector, moreBtn, lessBtn, initialVisibleCount
            setupToggle(Cache.skillsHiddenWrapper, "#skills-list-hidden > li", Cache.skillsMoreBtn, Cache.skillsLessBtn, 0); // Show 0 initially beyond the first 2 hardcoded
            setupToggle(Cache.educationHiddenWrapper, "#education-list-hidden > li", Cache.educationMoreBtn, Cache.educationLessBtn, 0); // Show 0 initially beyond the first 2 hardcoded
            setupToggle(Cache.portfolioHiddenWrapper, "#portfolio-list-hidden > .work-item", Cache.portfolioMoreBtn, Cache.portfolioLessBtn, 0); // Show 0 initially beyond the first 3 hardcoded

             // Stagger animation delays for initially visible portfolio items
            const initialPortfolioItems = Cache.portfolioList?.querySelectorAll('.work-list > .work-item:not(#portfolio-list-hidden .work-item)') || [];
            initialPortfolioItems.forEach((item, index) => {
                if (!item.dataset.delay) { // Only set delay if not already set
                     item.dataset.delay = index * ANIMATION_DELAY_STEP;
                }
             });

            setupScrollAnimations(); // Initialize scroll-triggered animations
            addEventListeners(); // Attach all event listeners
            handleScroll(); // Initial check for header style, back-to-top
            updateActiveNavLink(); // Set initial active nav link
        });

        /** Runs when the entire page (including images, stylesheets) is fully loaded. */
        window.addEventListener('load', () => {
            // Hide preloader once everything is loaded
            if (Cache.preloader) {
                Cache.preloader.classList.add('loaded');
                // Optional: Remove preloader from DOM after transition completes
                setTimeout(() => {
                    Cache.preloader.remove();
                }, 600); // Duration should match CSS transition duration + small buffer
            }
        });

    </script>

</body>

</html>